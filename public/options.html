<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>Options</title>
    <style>
      body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        overflow: hidden; /* Remove scroll bars */
        background-color: #67358C;
        color: #fff;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      h1 {
        text-align: center;
      }

      label {
        display: block;
        margin-top: 10px;
      }

      input {
        width: 100%;
        padding: 10px;
        box-sizing: border-box;
        margin-top: 5px;
      }

      button {
        margin-top: 15px;
        padding: 10px;
        cursor: pointer;
        background-color: #434c5e;
        color: #fff;
        border: none;
        border-radius: 5px;
      }

      button:hover {
        background-color: #434c5e;
      }

      header {
        background-color: #2d2d2d; /* Greyish-black */
        color: #fff;
        padding: 15px;
        text-align: center;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      footer {
        background-color: #2d2d2d; /* Greyish-black */
        color: #fff;
        padding: 15px;
        text-align: center;
        margin-top: auto; /* Push footer to the bottom */
        width: 100%; /* Full width */
        display: flex;
        justify-content: space-between;
        align-items: center; /* Center the content vertically */
        box-sizing: border-box;
      }

      footer a {
        color: #fff;
        text-decoration: none;
        margin: 0 10px;
      }
    </style>
    <script type='text/javascript'>
      window.smartlook||(function(d) {
        var o=smartlook=function(){ o.api.push(arguments)},h=d.getElementsByTagName('head')[0];
        var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript';
        c.charset='utf-8';c.src='https://web-sdk.smartlook.com/recorder.js';h.appendChild(c);
      })(document);
      smartlook('init', 'dd0a716ed5e1f27b308b655b63859cc63d3714a3', { region: 'eu' });

      function cloakWebsite() {
        const tabName = document.getElementById("tabName").value;
        const faviconURL = document.getElementById("faviconURL").value;

        // Check if the URL is an image
        const isImage = (url) => {
          const img = new Image();
          img.src = url;
          return img.width > 0 && img.height > 0;
        };

        if (isImage(faviconURL)) {
          localStorage.setItem("cloakedTabName", tabName);
          localStorage.setItem("cloakedFaviconURL", faviconURL);
          document.title = tabName;
          const link = document.createElement("link");
          link.rel = "shortcut icon";
          link.type = "image/x-icon";
          link.href = faviconURL;
          document.getElementsByTagName("head")[0].appendChild(link);

          // Cloak any page on the same link
          const currentUrl = window.location.href;
          const newUrl = currentUrl.replace(/\/?$/, `/${tabName}`);
          window.history.pushState({ path: newUrl }, '', newUrl);
        } else {
          // Use the favicon of the website if the provided URL is not an image
          const originalFaviconURL = "https://yourwebsite.com/favicon.ico"; // Replace with your website's favicon URL
          localStorage.setItem("cloakedTabName", tabName);
          localStorage.setItem("cloakedFaviconURL", originalFaviconURL);
          document.title = tabName;
          const link = document.createElement("link");
          link.rel = "shortcut icon";
          link.type = "image/x-icon";
          link.href = originalFaviconURL;
          document.getElementsByTagName("head")[0].appendChild(link);

          // Cloak any page on the same link
          const currentUrl = window.location.href;
          const newUrl = currentUrl.replace(/\/?$/, `/${tabName}`);
          window
